# :up: Upgrade

## :one: Prerequisites

1. Check Version

```
lsb_release  -a
```
> Outputs :
<pre>
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 20.04.4 LTS
Release:	20.04
Codename:	focal
</pre>


2. At least 20 GB of free disk space.

```
df -Th
```
> Outputs :
<pre>
Filesystem                        Type      Size  Used Avail Use% Mounted on
udev                              devtmpfs   32G     0   32G   0% /dev
tmpfs                             tmpfs     6.3G  2.3M  6.3G   1% /run
/dev/mapper/ubuntu--vg-ubuntu--lv ext4       98G   20G   74G  21% /
tmpfs                             tmpfs      32G     0   32G   0% /dev/shm
tmpfs                             tmpfs     5.0M     0  5.0M   0% /run/lock
tmpfs                             tmpfs      32G     0   32G   0% /sys/fs/cgroup
/dev/loop3                        squashfs   92M   92M     0 100% /snap/lxd/24061
/dev/loop2                        squashfs   92M   92M     0 100% /snap/lxd/23991
/dev/sda2                         ext4      1.5G  307M  1.1G  23% /boot
/dev/loop0                        squashfs   50M   50M     0 100% /snap/snapd/18357
/dev/loop4                        squashfs   64M   64M     0 100% /snap/core20/1828
/dev/loop7                        squashfs   56M   56M     0 100% /snap/core18/2714
/dev/loop8                        squashfs   12M   12M     0 100% /snap/kubectl/2890
/dev/loop9                        squashfs   12M   12M     0 100% /snap/kubectl/2914
/dev/loop10                       squashfs   64M   64M     0 100% /snap/core20/1852
/dev/loop6                        squashfs   50M   50M     0 100% /snap/snapd/18596
/dev/loop11                       squashfs   56M   56M     0 100% /snap/core18/2721
tmpfs                             tmpfs     6.3G     0  6.3G   0% /run/user/1000
</pre>


## :two: Upgrade all the system packages


```
apt list --upgradable
```
> Outputs :
<pre>
Listing... Done
alsa-ucm-conf/focal-updates 1.2.2-1ubuntu0.13 all [upgradable from: 1.2.2-1ubuntu0.12]
apparmor/focal-updates 2.13.3-7ubuntu5.2 amd64 [upgradable from: 2.13.3-7ubuntu5.1]
apport/focal-updates 2.20.11-0ubuntu27.25 all [upgradable from: 2.20.11-0ubuntu27.24]
apt-utils/focal-updates 2.0.9 amd64 [upgradable from: 2.0.6]
apt/focal-updates 2.0.9 amd64 [upgradable from: 2.0.6]
base-files/focal-updates 11ubuntu5.7 amd64 [upgradable from: 11ubuntu5.5]
bind9-dnsutils/focal-updates 1:9.16.1-0ubuntu2.14 amd64 [upgradable from: 1:9.16.1-0ubuntu2.12]
bind9-host/focal-updates 1:9.16.1-0ubuntu2.14 amd64 [upgradable from: 1:9.16.1-0ubuntu2.12]
bind9-libs/focal-updates 1:9.16.1-0ubuntu2.14 amd64 [upgradable from: 1:9.16.1-0ubuntu2.12]
bolt/focal-updates 0.9.1-2~ubuntu20.04.2 amd64 [upgradable from: 0.8-4ubuntu1]
cloud-init/focal-updates 23.1.1-0ubuntu0~20.04.1 all [upgradable from: 22.2-0ubuntu1~20.04.3]
containerd.io/focal 1.6.19-1 amd64 [upgradable from: 1.6.18-1]
distro-info-data/focal-updates 0.43ubuntu1.11 all [upgradable from: 0.43ubuntu1.10]
docker-buildx-plugin/focal 0.10.4-1~ubuntu.20.04~focal amd64 [upgradable from: 0.10.2-1~ubuntu.20.04~focal]
docker-ce-cli/focal 5:23.0.2-1~ubuntu.20.04~focal amd64 [upgradable from: 5:23.0.1-1~ubuntu.20.04~focal]
docker-ce-rootless-extras/focal 5:23.0.2-1~ubuntu.20.04~focal amd64 [upgradable from: 5:23.0.1-1~ubuntu.20.04~focal]
docker-ce/focal 5:23.0.2-1~ubuntu.20.04~focal amd64 [upgradable from: 5:23.0.1-1~ubuntu.20.04~focal]
docker-compose-plugin/focal 2.17.2-1~ubuntu.20.04~focal amd64 [upgradable from: 2.16.0-1~ubuntu.20.04~focal]
fwupd-signed/focal-updates 1.51~20.04.1+1.2-3ubuntu0.2 amd64 [upgradable from: 1.27.1ubuntu7+1.2-2~20.04.1]
fwupd/focal-updates 1.7.9-1~20.04.1 amd64 [upgradable from: 1.7.5-3~20.04.1]
grub-common/focal-updates 2.04-1ubuntu26.16 amd64 [upgradable from: 2.04-1ubuntu26.13]
grub-pc-bin/focal-updates 2.04-1ubuntu26.16 amd64 [upgradable from: 2.04-1ubuntu26.13]
grub-pc/focal-updates 2.04-1ubuntu26.16 amd64 [upgradable from: 2.04-1ubuntu26.13]
grub2-common/focal-updates 2.04-1ubuntu26.16 amd64 [upgradable from: 2.04-1ubuntu26.13]
isc-dhcp-client/focal-updates 4.4.1-2.1ubuntu5.20.04.5 amd64 [upgradable from: 4.4.1-2.1ubuntu5.20.04.4]
isc-dhcp-common/focal-updates 4.4.1-2.1ubuntu5.20.04.5 amd64 [upgradable from: 4.4.1-2.1ubuntu5.20.04.4]
kmod/focal-updates 27-1ubuntu2.1 amd64 [upgradable from: 27-1ubuntu2]
landscape-common/focal-updates 19.12-0ubuntu4.3 amd64 [upgradable from: 19.12-0ubuntu4.2]
libapparmor1/focal-updates 2.13.3-7ubuntu5.2 amd64 [upgradable from: 2.13.3-7ubuntu5.1]
libapt-pkg6.0/focal-updates 2.0.9 amd64 [upgradable from: 2.0.6]
libc-bin/focal-updates 2.31-0ubuntu9.9 amd64 [upgradable from: 2.31-0ubuntu9.7]
libc6/focal-updates 2.31-0ubuntu9.9 amd64 [upgradable from: 2.31-0ubuntu9.7]
libfwupd2/focal-updates 1.7.9-1~20.04.1 amd64 [upgradable from: 1.7.5-3~20.04.1]
libfwupdplugin5/focal-updates 1.7.9-1~20.04.1 amd64 [upgradable from: 1.7.5-3~20.04.1]
libkeyutils1/focal-updates 1.6-6ubuntu1.1 amd64 [upgradable from: 1.6-6ubuntu1]
libkmod2/focal-updates 27-1ubuntu2.1 amd64 [upgradable from: 27-1ubuntu2]
libmbim-glib4/focal-updates 1.26.2-1~ubuntu20.04.1 amd64 [upgradable from: 1.24.8-1~20.04]
libmbim-proxy/focal-updates 1.26.2-1~ubuntu20.04.1 amd64 [upgradable from: 1.24.8-1~20.04]
libmm-glib0/focal-updates 1.18.6-1~ubuntu20.04.1 amd64 [upgradable from: 1.16.6-2~20.04.1]
libnetplan0/focal-updates 0.104-0ubuntu2~20.04.2 amd64 [upgradable from: 0.104-0ubuntu2~20.04.1]
libnl-3-200/focal-updates 3.4.0-1ubuntu0.1 amd64 [upgradable from: 3.4.0-1]
libnl-genl-3-200/focal-updates 3.4.0-1ubuntu0.1 amd64 [upgradable from: 3.4.0-1]
libqmi-glib5/focal-updates 1.30.4-1~ubuntu20.04.1 amd64 [upgradable from: 1.28.6-1~20.04.1]
libqmi-proxy/focal-updates 1.30.4-1~ubuntu20.04.1 amd64 [upgradable from: 1.28.6-1~20.04.1]
libsnmp-base/focal-updates 5.8+dfsg-2ubuntu2.7 all [upgradable from: 5.8+dfsg-2ubuntu2.6]
libsnmp35/focal-updates 5.8+dfsg-2ubuntu2.7 amd64 [upgradable from: 5.8+dfsg-2ubuntu2.6]
libtss2-esys0/focal-updates 2.3.2-1ubuntu0.20.04.1 amd64 [upgradable from: 2.3.2-1]
libunwind8/focal-updates 1.2.1-9ubuntu0.1 amd64 [upgradable from: 1.2.1-9build1]
linux-firmware/focal-updates 1.187.36 all [upgradable from: 1.187.29]
locales/focal-updates 2.31-0ubuntu9.9 all [upgradable from: 2.31-0ubuntu9.7]
modemmanager/focal-updates 1.18.6-1~ubuntu20.04.1 amd64 [upgradable from: 1.16.6-2~20.04.1]
motd-news-config/focal-updates 11ubuntu5.7 all [upgradable from: 11ubuntu5.5]
netplan.io/focal-updates 0.104-0ubuntu2~20.04.2 amd64 [upgradable from: 0.104-0ubuntu2~20.04.1]
open-vm-tools/focal-updates 2:11.3.0-2ubuntu0~ubuntu20.04.4 amd64 [upgradable from: 2:11.3.0-2ubuntu0~ubuntu20.04.3]
openssh-client/focal-updates 1:8.2p1-4ubuntu0.5 amd64 [upgradable from: 1:8.2p1-4ubuntu0.4]
openssh-server/focal-updates 1:8.2p1-4ubuntu0.5 amd64 [upgradable from: 1:8.2p1-4ubuntu0.4]
openssh-sftp-server/focal-updates 1:8.2p1-4ubuntu0.5 amd64 [upgradable from: 1:8.2p1-4ubuntu0.4]
python-apt-common/focal-updates 2.0.1ubuntu0.20.04.1 all [upgradable from: 2.0.0ubuntu0.20.04.7]
python3-apport/focal-updates 2.20.11-0ubuntu27.25 all [upgradable from: 2.20.11-0ubuntu27.24]
python3-apt/focal-updates 2.0.1ubuntu0.20.04.1 amd64 [upgradable from: 2.0.0ubuntu0.20.04.7]
python3-distupgrade/focal-updates 1:20.04.41 all [upgradable from: 1:20.04.37]
python3-problem-report/focal-updates 2.20.11-0ubuntu27.25 all [upgradable from: 2.20.11-0ubuntu27.24]
python3-software-properties/focal-updates 0.99.9.11 all [upgradable from: 0.99.9.8]
python3-update-manager/focal-updates 1:20.04.10.11 all [upgradable from: 1:20.04.10.10]
sbsigntool/focal-updates 0.9.2-2ubuntu1.1 amd64 [upgradable from: 0.9.2-2ubuntu1]
snapd/focal-updates 2.58+20.04 amd64 [upgradable from: 2.57.5+20.04ubuntu0.1]
software-properties-common/focal-updates 0.99.9.11 all [upgradable from: 0.99.9.8]
sosreport/focal-updates 4.4-1ubuntu0.20.04.1 amd64 [upgradable from: 4.3-1ubuntu0.20.04.2]
tcpdump/focal-updates 4.9.3-4ubuntu0.2 amd64 [upgradable from: 4.9.3-4ubuntu0.1]
ubuntu-advantage-tools/focal-updates 27.13.6~20.04.1 amd64 [upgradable from: 27.6~20.04.1]
ubuntu-release-upgrader-core/focal-updates 1:20.04.41 all [upgradable from: 1:20.04.37]
unattended-upgrades/focal-updates 2.3ubuntu0.3 all [upgradable from: 2.3ubuntu0.1]
update-manager-core/focal-updates 1:20.04.10.11 all [upgradable from: 1:20.04.10.10]
update-notifier-common/focal-updates 3.192.30.17 all [upgradable from: 3.192.30.10]
</pre>

- [ ] Upgrade all packages

```
sudo apt update && sudo apt upgrade -y
```
> Outputs :
<pre>
Hit:1 http://ca.archive.ubuntu.com/ubuntu focal InRelease
Get:2 http://ca.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Hit:3 https://download.docker.com/linux/ubuntu focal InRelease
Get:4 http://ca.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Get:5 http://ca.archive.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:6 http://ca.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1,046 kB]
Get:7 http://ca.archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [45.7 kB]
Get:8 http://ca.archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [24.9 kB]
Get:9 http://ca.archive.ubuntu.com/ubuntu focal-security/universe amd64 c-n-f Metadata [17.6 kB]
Fetched 1,470 kB in 1s (1,942 kB/s)                               
Reading package lists... Done
Building dependency tree       
Reading state information... Done
74 packages can be upgraded. Run 'apt list --upgradable' to see them.
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Calculating upgrade... Done
The following packages were automatically installed and are no longer required:
  libfwupdplugin1 libxmlb1
Use 'sudo apt autoremove' to remove them.
The following NEW packages will be installed:
  libxmlb2
The following packages will be upgraded:
  alsa-ucm-conf apparmor apport apt apt-utils base-files bind9-dnsutils bind9-host bind9-libs bolt cloud-init containerd.io distro-info-data
  docker-buildx-plugin docker-ce docker-ce-cli docker-ce-rootless-extras docker-compose-plugin fwupd fwupd-signed grub-common grub-pc grub-pc-bin
  grub2-common isc-dhcp-client isc-dhcp-common kmod landscape-common libapparmor1 libapt-pkg6.0 libc-bin libc6 libfwupd2 libfwupdplugin5
  libkeyutils1 libkmod2 libmbim-glib4 libmbim-proxy libmm-glib0 libnetplan0 libnl-3-200 libnl-genl-3-200 libqmi-glib5 libqmi-proxy libsnmp-base
  libsnmp35 libtss2-esys0 libunwind8 linux-firmware locales modemmanager motd-news-config netplan.io open-vm-tools openssh-client openssh-server
  openssh-sftp-server python-apt-common python3-apport python3-apt python3-distupgrade python3-problem-report python3-software-properties
  python3-update-manager sbsigntool snapd software-properties-common sosreport tcpdump ubuntu-advantage-tools ubuntu-release-upgrader-core
  unattended-upgrades update-manager-core update-notifier-common
74 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 307 MB of archives.
After this operation, 63.9 MB of additional disk space will be used.
Get:1 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 motd-news-config all 11ubuntu5.7 [4,292 B]
Get:2 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libc6 amd64 2.31-0ubuntu9.9 [2,722 kB]
Get:3 https://download.docker.com/linux/ubuntu focal/stable amd64 containerd.io amd64 1.6.19-1 [28.2 MB]
Get:4 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 base-files amd64 11ubuntu5.7 [60.4 kB]
Get:5 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 locales all 2.31-0ubuntu9.9 [3,869 kB]
Get:6 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libc-bin amd64 2.31-0ubuntu9.9 [633 kB]
Get:7 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libapt-pkg6.0 amd64 2.0.9 [839 kB]
Get:8 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 apt amd64 2.0.9 [1,294 kB]
Get:9 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 apt-utils amd64 2.0.9 [213 kB]
Get:10 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 python-apt-common all 2.0.1ubuntu0.20.04.1 [16.5 kB]
Get:11 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-apt amd64 2.0.1ubuntu0.20.04.1 [154 kB]
Get:12 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 ubuntu-release-upgrader-core all 1:20.04.41 [24.3 kB]
Get:13 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 update-manager-core all 1:20.04.10.11 [11.6 kB]
Get:14 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-distupgrade all 1:20.04.41 [105 kB]
Get:15 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-update-manager all 1:20.04.10.11 [38.0 kB]
Get:16 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 distro-info-data all 0.43ubuntu1.11 [4,672 B]
Get:17 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 ubuntu-advantage-tools amd64 27.13.6~20.04.1 [173 kB]
Get:18 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 update-notifier-common all 3.192.30.17 [173 kB]
Get:19 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 open-vm-tools amd64 2:11.3.0-2ubuntu0~ubuntu20.04.4 [647 kB]
Get:20 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 isc-dhcp-client amd64 4.4.1-2.1ubuntu5.20.04.5 [247 kB]
Get:21 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 isc-dhcp-common amd64 4.4.1-2.1ubuntu5.20.04.5 [45.3 kB]
Get:22 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 kmod amd64 27-1ubuntu2.1 [94.8 kB]
Get:23 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libkmod2 amd64 27-1ubuntu2.1 [45.3 kB]
Get:24 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libapparmor1 amd64 2.13.3-7ubuntu5.2 [35.4 kB]
Get:25 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 netplan.io amd64 0.104-0ubuntu2~20.04.2 [88.0 kB]
Get:26 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnetplan0 amd64 0.104-0ubuntu2~20.04.2 [82.5 kB]
Get:27 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 apparmor amd64 2.13.3-7ubuntu5.2 [502 kB]
Get:28 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 bind9-dnsutils amd64 1:9.16.1-0ubuntu2.14 [134 kB]
Get:29 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 bind9-libs amd64 1:9.16.1-0ubuntu2.14 [1,109 kB]
Get:30 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 bind9-host amd64 1:9.16.1-0ubuntu2.14 [43.0 kB]
Get:31 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libkeyutils1 amd64 1.6-6ubuntu1.1 [10.3 kB]
Get:32 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 openssh-sftp-server amd64 1:8.2p1-4ubuntu0.5 [51.5 kB]
Get:33 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 openssh-server amd64 1:8.2p1-4ubuntu0.5 [377 kB]
Get:34 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 openssh-client amd64 1:8.2p1-4ubuntu0.5 [671 kB]
Get:35 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 tcpdump amd64 4.9.3-4ubuntu0.2 [369 kB]
Get:36 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 alsa-ucm-conf all 1.2.2-1ubuntu0.13 [27.0 kB]
Get:37 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 grub-pc amd64 2.04-1ubuntu26.16 [125 kB]
Get:38 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 grub2-common amd64 2.04-1ubuntu26.16 [590 kB]
Get:39 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 grub-pc-bin amd64 2.04-1ubuntu26.16 [971 kB]
Get:40 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 grub-common amd64 2.04-1ubuntu26.16 [1,878 kB]
Get:41 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-problem-report all 2.20.11-0ubuntu27.25 [11.0 kB]
Get:42 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-apport all 2.20.11-0ubuntu27.25 [86.4 kB]
Get:43 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 apport all 2.20.11-0ubuntu27.25 [129 kB]
Get:44 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 bolt amd64 0.9.1-2~ubuntu20.04.2 [143 kB]
Get:45 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libxmlb2 amd64 0.3.6-2build1~20.04.1 [61.6 kB]
Get:46 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 fwupd amd64 1.7.9-1~20.04.1 [2,453 kB]
Get:47 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libfwupdplugin5 amd64 1.7.9-1~20.04.1 [170 kB]
Get:48 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libfwupd2 amd64 1.7.9-1~20.04.1 [92.5 kB]
Get:49 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libmbim-proxy amd64 1.26.2-1~ubuntu20.04.1 [6,012 B]
Get:50 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libmbim-glib4 amd64 1.26.2-1~ubuntu20.04.1 [123 kB]
Get:51 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libmm-glib0 amd64 1.18.6-1~ubuntu20.04.1 [203 kB]
Get:52 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libqmi-proxy amd64 1.30.4-1~ubuntu20.04.1 [5,908 B]
Get:53 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libqmi-glib5 amd64 1.30.4-1~ubuntu20.04.1 [642 kB]
Get:54 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libtss2-esys0 amd64 2.3.2-1ubuntu0.20.04.1 [226 kB]
Get:55 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 fwupd-signed amd64 1.51~20.04.1+1.2-3ubuntu0.2 [28.7 kB]
Get:56 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 landscape-common amd64 19.12-0ubuntu4.3 [86.4 kB]
Get:57 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnl-genl-3-200 amd64 3.4.0-1ubuntu0.1 [11.2 kB]
Get:58 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnl-3-200 amd64 3.4.0-1ubuntu0.1 [54.4 kB]
Get:59 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libsnmp-base all 5.8+dfsg-2ubuntu2.7 [206 kB]
Get:60 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libsnmp35 amd64 5.8+dfsg-2ubuntu2.7 [978 kB]
Get:61 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 libunwind8 amd64 1.2.1-9ubuntu0.1 [47.7 kB]
Get:62 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-firmware all 1.187.36 [134 MB]
Get:63 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 modemmanager amd64 1.18.6-1~ubuntu20.04.1 [895 kB]                            
Get:64 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 software-properties-common all 0.99.9.11 [10.4 kB]                            
Get:65 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-software-properties all 0.99.9.11 [21.6 kB]                           
Get:66 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 sbsigntool amd64 0.9.2-2ubuntu1.1 [63.8 kB]                                   
Get:67 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 snapd amd64 2.58+20.04 [37.9 MB]                                              
Get:68 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 sosreport amd64 4.4-1ubuntu0.20.04.1 [305 kB]                                 
Get:69 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 unattended-upgrades all 2.3ubuntu0.3 [48.5 kB]                                
Get:70 http://ca.archive.ubuntu.com/ubuntu focal-updates/main amd64 cloud-init all 23.1.1-0ubuntu0~20.04.1 [534 kB]                               
Get:71 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-buildx-plugin amd64 0.10.4-1~ubuntu.20.04~focal [25.9 MB]               
Get:72 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-ce-cli amd64 5:23.0.2-1~ubuntu.20.04~focal [13.2 MB]                    
Get:73 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-ce amd64 5:23.0.2-1~ubuntu.20.04~focal [22.0 MB]                        
Get:74 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-ce-rootless-extras amd64 5:23.0.2-1~ubuntu.20.04~focal [8,777 kB]       
Get:75 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-compose-plugin amd64 2.17.2-1~ubuntu.20.04~focal [10.9 MB]              
Fetched 307 MB in 42s (7,398 kB/s)                                                                                                                
Extracting templates from packages: 100%
Preconfiguring packages ...
(Reading database ... 145535 files and directories currently installed.)
Preparing to unpack .../motd-news-config_11ubuntu5.7_all.deb ...
Unpacking motd-news-config (11ubuntu5.7) over (11ubuntu5.5) ...
Preparing to unpack .../libc6_2.31-0ubuntu9.9_amd64.deb ...
Unpacking libc6:amd64 (2.31-0ubuntu9.9) over (2.31-0ubuntu9.7) ...
Setting up libc6:amd64 (2.31-0ubuntu9.9) ...
(Reading database ... 145535 files and directories currently installed.)
Preparing to unpack .../base-files_11ubuntu5.7_amd64.deb ...
Warning: Stopping motd-news.service, but it can still be activated by:
  motd-news.timer
Unpacking base-files (11ubuntu5.7) over (11ubuntu5.5) ...
Setting up base-files (11ubuntu5.7) ...
Installing new version of config file /etc/issue ...
Installing new version of config file /etc/issue.net ...
Installing new version of config file /etc/lsb-release ...
motd-news.service is a disabled or a static unit, not starting it.
(Reading database ... 145535 files and directories currently installed.)
Preparing to unpack .../locales_2.31-0ubuntu9.9_all.deb ...
Unpacking locales (2.31-0ubuntu9.9) over (2.31-0ubuntu9.7) ...
Preparing to unpack .../libc-bin_2.31-0ubuntu9.9_amd64.deb ...
Unpacking libc-bin (2.31-0ubuntu9.9) over (2.31-0ubuntu9.7) ...
Setting up libc-bin (2.31-0ubuntu9.9) ...
(Reading database ... 145535 files and directories currently installed.)
Preparing to unpack .../libapt-pkg6.0_2.0.9_amd64.deb ...
Unpacking libapt-pkg6.0:amd64 (2.0.9) over (2.0.6) ...
Setting up libapt-pkg6.0:amd64 (2.0.9) ...
(Reading database ... 145535 files and directories currently installed.)
Preparing to unpack .../archives/apt_2.0.9_amd64.deb ...
Unpacking apt (2.0.9) over (2.0.6) ...
Setting up apt (2.0.9) ...
Removing obsolete conffile /etc/kernel/postinst.d/apt-auto-removal ...
(Reading database ... 145534 files and directories currently installed.)
Preparing to unpack .../00-apt-utils_2.0.9_amd64.deb ...
Unpacking apt-utils (2.0.9) over (2.0.6) ...
Preparing to unpack .../01-python-apt-common_2.0.1ubuntu0.20.04.1_all.deb ...
Unpacking python-apt-common (2.0.1ubuntu0.20.04.1) over (2.0.0ubuntu0.20.04.7) ...
Preparing to unpack .../02-python3-apt_2.0.1ubuntu0.20.04.1_amd64.deb ...
Unpacking python3-apt (2.0.1ubuntu0.20.04.1) over (2.0.0ubuntu0.20.04.7) ...
Preparing to unpack .../03-ubuntu-release-upgrader-core_1%3a20.04.41_all.deb ...
Unpacking ubuntu-release-upgrader-core (1:20.04.41) over (1:20.04.37) ...
Preparing to unpack .../04-update-manager-core_1%3a20.04.10.11_all.deb ...
Unpacking update-manager-core (1:20.04.10.11) over (1:20.04.10.10) ...
Preparing to unpack .../05-python3-distupgrade_1%3a20.04.41_all.deb ...
Unpacking python3-distupgrade (1:20.04.41) over (1:20.04.37) ...
Preparing to unpack .../06-python3-update-manager_1%3a20.04.10.11_all.deb ...
Unpacking python3-update-manager (1:20.04.10.11) over (1:20.04.10.10) ...
Preparing to unpack .../07-distro-info-data_0.43ubuntu1.11_all.deb ...
Unpacking distro-info-data (0.43ubuntu1.11) over (0.43ubuntu1.10) ...
Preparing to unpack .../08-ubuntu-advantage-tools_27.13.6~20.04.1_amd64.deb ...
Unpacking ubuntu-advantage-tools (27.13.6~20.04.1) over (27.6~20.04.1) ...
Preparing to unpack .../09-update-notifier-common_3.192.30.17_all.deb ...
Unpacking update-notifier-common (3.192.30.17) over (3.192.30.10) ...
Preparing to unpack .../10-open-vm-tools_2%3a11.3.0-2ubuntu0~ubuntu20.04.4_amd64.deb ...
Unpacking open-vm-tools (2:11.3.0-2ubuntu0~ubuntu20.04.4) over (2:11.3.0-2ubuntu0~ubuntu20.04.3) ...
Preparing to unpack .../11-isc-dhcp-client_4.4.1-2.1ubuntu5.20.04.5_amd64.deb ...
Unpacking isc-dhcp-client (4.4.1-2.1ubuntu5.20.04.5) over (4.4.1-2.1ubuntu5.20.04.4) ...
Preparing to unpack .../12-isc-dhcp-common_4.4.1-2.1ubuntu5.20.04.5_amd64.deb ...
Unpacking isc-dhcp-common (4.4.1-2.1ubuntu5.20.04.5) over (4.4.1-2.1ubuntu5.20.04.4) ...
Preparing to unpack .../13-kmod_27-1ubuntu2.1_amd64.deb ...
Unpacking kmod (27-1ubuntu2.1) over (27-1ubuntu2) ...
Preparing to unpack .../14-libkmod2_27-1ubuntu2.1_amd64.deb ...
Unpacking libkmod2:amd64 (27-1ubuntu2.1) over (27-1ubuntu2) ...
Preparing to unpack .../15-libapparmor1_2.13.3-7ubuntu5.2_amd64.deb ...
Unpacking libapparmor1:amd64 (2.13.3-7ubuntu5.2) over (2.13.3-7ubuntu5.1) ...
Preparing to unpack .../16-netplan.io_0.104-0ubuntu2~20.04.2_amd64.deb ...
Unpacking netplan.io (0.104-0ubuntu2~20.04.2) over (0.104-0ubuntu2~20.04.1) ...
Preparing to unpack .../17-libnetplan0_0.104-0ubuntu2~20.04.2_amd64.deb ...
Unpacking libnetplan0:amd64 (0.104-0ubuntu2~20.04.2) over (0.104-0ubuntu2~20.04.1) ...
Preparing to unpack .../18-apparmor_2.13.3-7ubuntu5.2_amd64.deb ...
Unpacking apparmor (2.13.3-7ubuntu5.2) over (2.13.3-7ubuntu5.1) ...
Preparing to unpack .../19-bind9-dnsutils_1%3a9.16.1-0ubuntu2.14_amd64.deb ...
Unpacking bind9-dnsutils (1:9.16.1-0ubuntu2.14) over (1:9.16.1-0ubuntu2.12) ...
Preparing to unpack .../20-bind9-libs_1%3a9.16.1-0ubuntu2.14_amd64.deb ...
Unpacking bind9-libs:amd64 (1:9.16.1-0ubuntu2.14) over (1:9.16.1-0ubuntu2.12) ...
Preparing to unpack .../21-bind9-host_1%3a9.16.1-0ubuntu2.14_amd64.deb ...
Unpacking bind9-host (1:9.16.1-0ubuntu2.14) over (1:9.16.1-0ubuntu2.12) ...
Preparing to unpack .../22-libkeyutils1_1.6-6ubuntu1.1_amd64.deb ...
Unpacking libkeyutils1:amd64 (1.6-6ubuntu1.1) over (1.6-6ubuntu1) ...
Preparing to unpack .../23-openssh-sftp-server_1%3a8.2p1-4ubuntu0.5_amd64.deb ...
Unpacking openssh-sftp-server (1:8.2p1-4ubuntu0.5) over (1:8.2p1-4ubuntu0.4) ...
Preparing to unpack .../24-openssh-server_1%3a8.2p1-4ubuntu0.5_amd64.deb ...
Unpacking openssh-server (1:8.2p1-4ubuntu0.5) over (1:8.2p1-4ubuntu0.4) ...
Preparing to unpack .../25-openssh-client_1%3a8.2p1-4ubuntu0.5_amd64.deb ...
Unpacking openssh-client (1:8.2p1-4ubuntu0.5) over (1:8.2p1-4ubuntu0.4) ...
Preparing to unpack .../26-tcpdump_4.9.3-4ubuntu0.2_amd64.deb ...
Unpacking tcpdump (4.9.3-4ubuntu0.2) over (4.9.3-4ubuntu0.1) ...
Preparing to unpack .../27-alsa-ucm-conf_1.2.2-1ubuntu0.13_all.deb ...
Unpacking alsa-ucm-conf (1.2.2-1ubuntu0.13) over (1.2.2-1ubuntu0.12) ...
Preparing to unpack .../28-grub-pc_2.04-1ubuntu26.16_amd64.deb ...
Unpacking grub-pc (2.04-1ubuntu26.16) over (2.04-1ubuntu26.13) ...
Preparing to unpack .../29-grub2-common_2.04-1ubuntu26.16_amd64.deb ...
Unpacking grub2-common (2.04-1ubuntu26.16) over (2.04-1ubuntu26.13) ...
Preparing to unpack .../30-grub-pc-bin_2.04-1ubuntu26.16_amd64.deb ...
Unpacking grub-pc-bin (2.04-1ubuntu26.16) over (2.04-1ubuntu26.13) ...
Preparing to unpack .../31-grub-common_2.04-1ubuntu26.16_amd64.deb ...
Unpacking grub-common (2.04-1ubuntu26.16) over (2.04-1ubuntu26.13) ...
Preparing to unpack .../32-python3-problem-report_2.20.11-0ubuntu27.25_all.deb ...
Unpacking python3-problem-report (2.20.11-0ubuntu27.25) over (2.20.11-0ubuntu27.24) ...
Preparing to unpack .../33-python3-apport_2.20.11-0ubuntu27.25_all.deb ...
Unpacking python3-apport (2.20.11-0ubuntu27.25) over (2.20.11-0ubuntu27.24) ...
Preparing to unpack .../34-apport_2.20.11-0ubuntu27.25_all.deb ...
Unpacking apport (2.20.11-0ubuntu27.25) over (2.20.11-0ubuntu27.24) ...
Preparing to unpack .../35-bolt_0.9.1-2~ubuntu20.04.2_amd64.deb ...
Unpacking bolt (0.9.1-2~ubuntu20.04.2) over (0.8-4ubuntu1) ...
Preparing to unpack .../36-containerd.io_1.6.19-1_amd64.deb ...
Unpacking containerd.io (1.6.19-1) over (1.6.18-1) ...
Preparing to unpack .../37-docker-buildx-plugin_0.10.4-1~ubuntu.20.04~focal_amd64.deb ...
Unpacking docker-buildx-plugin (0.10.4-1~ubuntu.20.04~focal) over (0.10.2-1~ubuntu.20.04~focal) ...
Preparing to unpack .../38-docker-ce-cli_5%3a23.0.2-1~ubuntu.20.04~focal_amd64.deb ...
Unpacking docker-ce-cli (5:23.0.2-1~ubuntu.20.04~focal) over (5:23.0.1-1~ubuntu.20.04~focal) ...
Preparing to unpack .../39-docker-ce_5%3a23.0.2-1~ubuntu.20.04~focal_amd64.deb ...
Unpacking docker-ce (5:23.0.2-1~ubuntu.20.04~focal) over (5:23.0.1-1~ubuntu.20.04~focal) ...
Preparing to unpack .../40-docker-ce-rootless-extras_5%3a23.0.2-1~ubuntu.20.04~focal_amd64.deb ...
Unpacking docker-ce-rootless-extras (5:23.0.2-1~ubuntu.20.04~focal) over (5:23.0.1-1~ubuntu.20.04~focal) ...
Preparing to unpack .../41-docker-compose-plugin_2.17.2-1~ubuntu.20.04~focal_amd64.deb ...
Unpacking docker-compose-plugin (2.17.2-1~ubuntu.20.04~focal) over (2.16.0-1~ubuntu.20.04~focal) ...
Selecting previously unselected package libxmlb2:amd64.
Preparing to unpack .../42-libxmlb2_0.3.6-2build1~20.04.1_amd64.deb ...
Unpacking libxmlb2:amd64 (0.3.6-2build1~20.04.1) ...
Preparing to unpack .../43-fwupd_1.7.9-1~20.04.1_amd64.deb ...
Unpacking fwupd (1.7.9-1~20.04.1) over (1.7.5-3~20.04.1) ...
Preparing to unpack .../44-libfwupdplugin5_1.7.9-1~20.04.1_amd64.deb ...
Unpacking libfwupdplugin5:amd64 (1.7.9-1~20.04.1) over (1.7.5-3~20.04.1) ...
Preparing to unpack .../45-libfwupd2_1.7.9-1~20.04.1_amd64.deb ...
Unpacking libfwupd2:amd64 (1.7.9-1~20.04.1) over (1.7.5-3~20.04.1) ...
Preparing to unpack .../46-libmbim-proxy_1.26.2-1~ubuntu20.04.1_amd64.deb ...
Unpacking libmbim-proxy (1.26.2-1~ubuntu20.04.1) over (1.24.8-1~20.04) ...
Preparing to unpack .../47-libmbim-glib4_1.26.2-1~ubuntu20.04.1_amd64.deb ...
Unpacking libmbim-glib4:amd64 (1.26.2-1~ubuntu20.04.1) over (1.24.8-1~20.04) ...
Preparing to unpack .../48-libmm-glib0_1.18.6-1~ubuntu20.04.1_amd64.deb ...
Unpacking libmm-glib0:amd64 (1.18.6-1~ubuntu20.04.1) over (1.16.6-2~20.04.1) ...
Preparing to unpack .../49-libqmi-proxy_1.30.4-1~ubuntu20.04.1_amd64.deb ...
Unpacking libqmi-proxy (1.30.4-1~ubuntu20.04.1) over (1.28.6-1~20.04.1) ...
Preparing to unpack .../50-libqmi-glib5_1.30.4-1~ubuntu20.04.1_amd64.deb ...
Unpacking libqmi-glib5:amd64 (1.30.4-1~ubuntu20.04.1) over (1.28.6-1~20.04.1) ...
Preparing to unpack .../51-libtss2-esys0_2.3.2-1ubuntu0.20.04.1_amd64.deb ...
Unpacking libtss2-esys0 (2.3.2-1ubuntu0.20.04.1) over (2.3.2-1) ...
Preparing to unpack .../52-fwupd-signed_1.51~20.04.1+1.2-3ubuntu0.2_amd64.deb ...
Unpacking fwupd-signed (1.51~20.04.1+1.2-3ubuntu0.2) over (1.27.1ubuntu7+1.2-2~20.04.1) ...
Preparing to unpack .../53-landscape-common_19.12-0ubuntu4.3_amd64.deb ...
Unpacking landscape-common (19.12-0ubuntu4.3) over (19.12-0ubuntu4.2) ...
Preparing to unpack .../54-libnl-genl-3-200_3.4.0-1ubuntu0.1_amd64.deb ...
Unpacking libnl-genl-3-200:amd64 (3.4.0-1ubuntu0.1) over (3.4.0-1) ...
Preparing to unpack .../55-libnl-3-200_3.4.0-1ubuntu0.1_amd64.deb ...
Unpacking libnl-3-200:amd64 (3.4.0-1ubuntu0.1) over (3.4.0-1) ...
Preparing to unpack .../56-libsnmp-base_5.8+dfsg-2ubuntu2.7_all.deb ...
Unpacking libsnmp-base (5.8+dfsg-2ubuntu2.7) over (5.8+dfsg-2ubuntu2.6) ...
Preparing to unpack .../57-libsnmp35_5.8+dfsg-2ubuntu2.7_amd64.deb ...
Unpacking libsnmp35:amd64 (5.8+dfsg-2ubuntu2.7) over (5.8+dfsg-2ubuntu2.6) ...
Preparing to unpack .../58-libunwind8_1.2.1-9ubuntu0.1_amd64.deb ...
Unpacking libunwind8:amd64 (1.2.1-9ubuntu0.1) over (1.2.1-9build1) ...
Preparing to unpack .../59-linux-firmware_1.187.36_all.deb ...
Unpacking linux-firmware (1.187.36) over (1.187.29) ...
Preparing to unpack .../60-modemmanager_1.18.6-1~ubuntu20.04.1_amd64.deb ...
Unpacking modemmanager (1.18.6-1~ubuntu20.04.1) over (1.16.6-2~20.04.1) ...
Preparing to unpack .../61-software-properties-common_0.99.9.11_all.deb ...
Unpacking software-properties-common (0.99.9.11) over (0.99.9.8) ...
Preparing to unpack .../62-python3-software-properties_0.99.9.11_all.deb ...
Unpacking python3-software-properties (0.99.9.11) over (0.99.9.8) ...
Preparing to unpack .../63-sbsigntool_0.9.2-2ubuntu1.1_amd64.deb ...
Unpacking sbsigntool (0.9.2-2ubuntu1.1) over (0.9.2-2ubuntu1) ...
Preparing to unpack .../64-snapd_2.58+20.04_amd64.deb ...
Unpacking snapd (2.58+20.04) over (2.57.5+20.04ubuntu0.1) ...
Preparing to unpack .../65-sosreport_4.4-1ubuntu0.20.04.1_amd64.deb ...
Unpacking sosreport (4.4-1ubuntu0.20.04.1) over (4.3-1ubuntu0.20.04.2) ...
Preparing to unpack .../66-unattended-upgrades_2.3ubuntu0.3_all.deb ...
Unpacking unattended-upgrades (2.3ubuntu0.3) over (2.3ubuntu0.1) ...
Preparing to unpack .../67-cloud-init_23.1.1-0ubuntu0~20.04.1_all.deb ...
Unpacking cloud-init (23.1.1-0ubuntu0~20.04.1) over (22.2-0ubuntu1~20.04.3) ...
Setting up motd-news-config (11ubuntu5.7) ...
Setting up tcpdump (4.9.3-4ubuntu0.2) ...
Installing new version of config file /etc/apparmor.d/usr.sbin.tcpdump ...
Warning from /etc/apparmor.d/usr.sbin.tcpdump (/etc/apparmor.d/usr.sbin.tcpdump line 4): apparmor_parser: File '/etc/apparmor.d/usr.sbin.tcpdump' missing feature abi, falling back to default policy feature abi
Setting up libkeyutils1:amd64 (1.6-6ubuntu1.1) ...
Setting up libapparmor1:amd64 (2.13.3-7ubuntu5.2) ...
Setting up apt-utils (2.0.9) ...
Setting up bind9-libs:amd64 (1:9.16.1-0ubuntu2.14) ...
Setting up alsa-ucm-conf (1.2.2-1ubuntu0.13) ...
Setting up linux-firmware (1.187.36) ...
update-initramfs: Generating /boot/initrd.img-5.4.0-146-generic
update-initramfs: Generating /boot/initrd.img-5.4.0-144-generic
update-initramfs: Generating /boot/initrd.img-5.4.0-137-generic
Setting up libtss2-esys0 (2.3.2-1ubuntu0.20.04.1) ...
Setting up python3-problem-report (2.20.11-0ubuntu27.25) ...
Setting up distro-info-data (0.43ubuntu1.11) ...
Setting up openssh-client (1:8.2p1-4ubuntu0.5) ...
Setting up libsnmp-base (5.8+dfsg-2ubuntu2.7) ...
Setting up libxmlb2:amd64 (0.3.6-2build1~20.04.1) ...
Setting up libfwupd2:amd64 (1.7.9-1~20.04.1) ...
Setting up isc-dhcp-client (4.4.1-2.1ubuntu5.20.04.5) ...
Installing new version of config file /etc/apparmor.d/sbin.dhclient ...
Warning from /etc/apparmor.d/sbin.dhclient (/etc/apparmor.d/sbin.dhclient line 4): apparmor_parser: File '/etc/apparmor.d/sbin.dhclient' missing feature abi, falling back to default policy feature abi
Setting up libnetplan0:amd64 (0.104-0ubuntu2~20.04.2) ...
Setting up fwupd-signed (1.51~20.04.1+1.2-3ubuntu0.2) ...
Setting up locales (2.31-0ubuntu9.9) ...
Generating locales (this might take a while)...
  en_US.UTF-8... done
Generation complete.
Setting up libunwind8:amd64 (1.2.1-9ubuntu0.1) ...
Setting up netplan.io (0.104-0ubuntu2~20.04.2) ...
Setting up grub-common (2.04-1ubuntu26.16) ...
Installing new version of config file /etc/grub.d/10_linux ...
update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
Setting up apparmor (2.13.3-7ubuntu5.2) ...
Installing new version of config file /etc/apparmor/parser.conf ...
Reloading AppArmor profiles 
Skipping profile in /etc/apparmor.d/disable: usr.sbin.rsyslogd
Setting up docker-buildx-plugin (0.10.4-1~ubuntu.20.04~focal) ...
Setting up containerd.io (1.6.19-1) ...
Setting up docker-compose-plugin (2.17.2-1~ubuntu.20.04~focal) ...
Setting up sosreport (4.4-1ubuntu0.20.04.1) ...
Setting up docker-ce-cli (5:23.0.2-1~ubuntu.20.04~focal) ...
Setting up python-apt-common (2.0.1ubuntu0.20.04.1) ...
Setting up open-vm-tools (2:11.3.0-2ubuntu0~ubuntu20.04.4) ...
Setting up libmm-glib0:amd64 (1.18.6-1~ubuntu20.04.1) ...
Setting up libnl-3-200:amd64 (3.4.0-1ubuntu0.1) ...
Setting up isc-dhcp-common (4.4.1-2.1ubuntu5.20.04.5) ...
Setting up docker-ce-rootless-extras (5:23.0.2-1~ubuntu.20.04~focal) ...
Setting up sbsigntool (0.9.2-2ubuntu1.1) ...
Setting up bind9-host (1:9.16.1-0ubuntu2.14) ...
Setting up libfwupdplugin5:amd64 (1.7.9-1~20.04.1) ...
Setting up libmbim-glib4:amd64 (1.26.2-1~ubuntu20.04.1) ...
Setting up libkmod2:amd64 (27-1ubuntu2.1) ...
Setting up bolt (0.9.1-2~ubuntu20.04.2) ...
bolt.service is a disabled or a static unit not running, not starting it.
Setting up snapd (2.58+20.04) ...
Installing new version of config file /etc/apt/apt.conf.d/20snapd.conf ...
snapd.failure.service is a disabled or a static unit not running, not starting it.
snapd.snap-repair.service is a disabled or a static unit not running, not starting it.
Failed to restart snapd.mounts-pre.target: Operation refused, unit snapd.mounts-pre.target may be requested by dependency only (it is configured to refuse manual start/stop).
See system logs and 'systemctl status snapd.mounts-pre.target' for details.
Setting up openssh-sftp-server (1:8.2p1-4ubuntu0.5) ...
Setting up cloud-init (23.1.1-0ubuntu0~20.04.1) ...
Installing new version of config file /etc/cloud/cloud.cfg ...
Setting up libsnmp35:amd64 (5.8+dfsg-2ubuntu2.7) ...
Setting up openssh-server (1:8.2p1-4ubuntu0.5) ...
rescue-ssh.target is a disabled or a static unit, not starting it.
Setting up grub2-common (2.04-1ubuntu26.16) ...
Setting up python3-apt (2.0.1ubuntu0.20.04.1) ...
Setting up libmbim-proxy (1.26.2-1~ubuntu20.04.1) ...
Setting up kmod (27-1ubuntu2.1) ...
update-initramfs: deferring update (trigger activated)
Setting up landscape-common (19.12-0ubuntu4.3) ...
Setting up grub-pc-bin (2.04-1ubuntu26.16) ...
Setting up python3-apport (2.20.11-0ubuntu27.25) ...
Setting up grub-pc (2.04-1ubuntu26.16) ...
Sourcing file `/etc/default/grub'
Sourcing file `/etc/default/grub.d/init-select.cfg'
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-5.4.0-146-generic
Found initrd image: /boot/initrd.img-5.4.0-146-generic
Found linux image: /boot/vmlinuz-5.4.0-144-generic
Found initrd image: /boot/initrd.img-5.4.0-144-generic
Found linux image: /boot/vmlinuz-5.4.0-137-generic
Found initrd image: /boot/initrd.img-5.4.0-137-generic
done
Setting up unattended-upgrades (2.3ubuntu0.3) ...
Installing new version of config file /etc/kernel/postinst.d/unattended-upgrades ...
Setting up python3-software-properties (0.99.9.11) ...
Setting up docker-ce (5:23.0.2-1~ubuntu.20.04~focal) ...
Setting up libnl-genl-3-200:amd64 (3.4.0-1ubuntu0.1) ...
Setting up ubuntu-advantage-tools (27.13.6~20.04.1) ...
Installing new version of config file /etc/apt/apt.conf.d/20apt-esm-hook.conf ...
Installing new version of config file /etc/logrotate.d/ubuntu-advantage-tools ...
Installing new version of config file /etc/ubuntu-advantage/help_data.yaml ...
Installing new version of config file /etc/ubuntu-advantage/uaclient.conf ...
Installing new version of config file /etc/update-motd.d/91-contract-ua-esm-status ...
Created symlink /etc/systemd/system/multi-user.target.wants/ubuntu-advantage.service â†’ /lib/systemd/system/ubuntu-advantage.service.
Setting up bind9-dnsutils (1:9.16.1-0ubuntu2.14) ...
Setting up libqmi-glib5:amd64 (1.30.4-1~ubuntu20.04.1) ...
Setting up software-properties-common (0.99.9.11) ...
Setting up apport (2.20.11-0ubuntu27.25) ...
apport-autoreport.service is a disabled or a static unit, not starting it.
Setting up libqmi-proxy (1.30.4-1~ubuntu20.04.1) ...
Setting up modemmanager (1.18.6-1~ubuntu20.04.1) ...
Installing new version of config file /etc/dbus-1/system.d/org.freedesktop.ModemManager1.conf ...
Setting up fwupd (1.7.9-1~20.04.1) ...
Installing new version of config file /etc/fwupd/redfish.conf ...
fwupd-offline-update.service is a disabled or a static unit not running, not starting it.
fwupd-refresh.service is a disabled or a static unit not running, not starting it.
fwupd.service is a disabled or a static unit not running, not starting it.
Setting up python3-distupgrade (1:20.04.41) ...
Setting up ubuntu-release-upgrader-core (1:20.04.41) ...
Setting up python3-update-manager (1:20.04.10.11) ...
Setting up update-manager-core (1:20.04.10.11) ...
Setting up update-notifier-common (3.192.30.17) ...
Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
Processing triggers for rsyslog (8.2001.0-1ubuntu1.3) ...
Processing triggers for ufw (0.36-6ubuntu1) ...
Processing triggers for systemd (245.4-4ubuntu3.20) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for plymouth-theme-ubuntu-text (0.9.4git20200323-0ubuntu6.2) ...
update-initramfs: deferring update (trigger activated)
Processing triggers for dbus (1.12.16-2ubuntu2.3) ...
Processing triggers for install-info (6.7.0.dfsg.2-5) ...
Processing triggers for mime-support (3.64ubuntu1) ...
Processing triggers for initramfs-tools (0.136ubuntu6.7) ...
update-initramfs: Generating /boot/initrd.img-5.4.0-146-generic
</pre>

- [ ] Restart the system 

```
sudo reboot
```

- [ ] Check Version

```
lsb_release  -a
```
> Outputs :
<pre>
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 20.04.6 LTS
Release:	20.04
Codename:	focal
</pre>

## :three: Open TCP port 1022

If you are connected to your Ubuntu instance via SSH, the upgrade tool will open another SSH port (1022) as a fallback port in case the SSH connection drops on port 22. 

```
sudo ufw status
```
> Status: inactive


```
sudo ufw app list
```
> Outputs :
<pre>
Available applications:
  OpenSSH
</pre>

```
sudo ufw allow 1022/tcp
```
> Outputs :
<pre>
Rules updated
Rules updated (v6)
</pre>

```
sudo ufw reload
```
> Firewall not enabled (skipping reload)


```
sudo ufw enable
```
> Outputs :
<pre>
Command may disrupt existing ssh connections. Proceed with operation (y|n)? y
Firewall is active and enabled on system startup
</pre>

```
sudo ufw status
```
> Outputs :
<pre>
Status: active

To                         Action      From
--                         ------      ----
1022/tcp                   ALLOW       Anywhere                  
1022/tcp (v6)              ALLOW       Anywhere (v6)
</pre>

```
sudo ufw disable
```
> Firewall stopped and disabled on system startup

## :four: Upgrade to Ubuntu 22.04 Jammy Jellyfish 


- [ ] use the do-release-upgrade tool. If it is not installed, you can install it by running the command:

```
sudo apt install update-manager-core
```
> Outputs :
<pre>
Reading package lists... Done
Building dependency tree       
Reading state information... Done
update-manager-core is already the newest version (1:20.04.10.11).
update-manager-core set to manually installed.
The following packages were automatically installed and are no longer required:
  libfwupdplugin1 libxmlb1 linux-headers-5.4.0-137 linux-headers-5.4.0-137-generic linux-image-5.4.0-137-generic linux-modules-5.4.0-137-generic
  linux-modules-extra-5.4.0-137-generic
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
</pre>

- [ ] :construction: Start the upgrade

```
sudo do-release-upgrade -d
```
> Outputs :

:pushpin: Step 1 (Press y)

<pre>

Reading cache

Checking package manager

Continue running under SSH? 

This session appears to be running under ssh. It is not recommended 
to perform a upgrade over ssh currently because in case of failure it 
is harder to recover. 

If you continue, an additional ssh daemon will be started at port 
'1022'. 
Do you want to continue? 

Continue [yN]
</pre>

:pushpin: Step 2 (Press ENTER)

<pre>

Starting additional sshd 

To make recovery in case of failure easier, an additional sshd will 
be started on port '1022'. If anything goes wrong with the running 
ssh you can still connect to the additional one. 
If you run a firewall, you may need to temporarily open this port. As 
this is potentially dangerous it's not done automatically. You can 
open the port with e.g.: 
'iptables -I INPUT -p tcp --dport 1022 -j ACCEPT' 

To continue please press [ENTER]

</pre>

:pushpin: Step 3 (Press y)

<pre>
Checking for a new Ubuntu release
Get:1 Upgrade tool signature [819 B]                                                                                                              
Get:2 Upgrade tool [1,266 kB]                                                                                                                     
Fetched 1,267 kB in 0s (0 B/s)                                                                                                                    
authenticate 'jammy.tar.gz' against 'jammy.tar.gz.gpg' 
extracting 'jammy.tar.gz'

No candidate ver:  linux-modules-extra-5.4.0-128-generic
No candidate ver:  linux-modules-extra-5.4.0-131-generic
No candidate ver:  linux-modules-extra-5.4.0-135-generic
No candidate ver:  linux-modules-extra-5.4.0-136-generic
No candidate ver:  linux-modules-extra-5.4.0-139-generic

Do you want to start the upgrade? 


4 packages are going to be removed. 92 new packages are going to be 
installed. 580 packages are going to be upgraded. 

You have to download a total of 571 M. This download will take about 
1 minute with a 40Mbit connection and about 15 minutes with a 5Mbit 
connection. 

Fetching and installing the upgrade can take several hours. Once the 
download has finished, the process cannot be canceled. 

 Continue [yN]  Details [d]
 </pre>
 
:pushpin: Step 4 (Select [YES])
 
<img src=images/libc6.png width='' height='' > </img>

:pushpin: Step 5 (Type [ok])

<img src=images/openssh-server.png width='' height='' > </img>


:pushpin: Step 6 (Press y)

<pre>
Warning: os-prober will not be executed to detect other bootable partitions.
Systems on them will not be added to the GRUB boot configuration.
Check GRUB_DISABLE_OS_PROBER documentation entry.
done
Reading package lists... Done
Building dependency tree
Reading state information... Done

Processing snap replacements

refreshing snap lxd

Searching for obsolete software
Reading state information... Done

Remove obsolete packages?


87 packages are going to be removed.

 Continue [yN]  Details [d]
</pre>

:pushpin: Step 7 (Press y)

<pre>
...
Purging configuration files for crda (3.18-1build1) ...
Purging configuration files for accountsservice (22.07.5-2ubuntu1.3) ...
Processing triggers for dbus (1.12.20-2ubuntu4.1) ...

System upgrade is complete.

Restart required 

To finish the upgrade, a restart is required. 
If you select 'y' the system will be restarted. 

Continue [yN]
</pre>

:accept: Check the upgrade

```
lsb_release -a
```
> Outputs :
<pre>
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 22.04.2 LTS
Release:	22.04
Codename:	jammy
</pre>
# References

- [ ] [How to Upgrade from Ubuntu 20.04 LTS to Ubuntu 22.04 LTS](https://jumpcloud.com/blog/how-to-upgrade-ubuntu-20-04-to-ubuntu-22-04)
